<html>
	<head>
		<style>
			.mover {
				background: url("particle.png");
				height: 100px;
				width: 100px;
				position: absolute;
			}
		</style>

	</head>
	<body>
  <div id="warning">
  On some operating systems (not OSX) input events can arrive as often as every 2ms!
  </div>
	<div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
				<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
				<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
				<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
				<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
				<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>
		<div class="mover"></div>

	</div>

		<script>
			var rAF = window.webkitRequestAnimationFrame;

    		        // Set the heights for all these movers in simple CSS style.top
			var movers = document.querySelectorAll('.mover');
			(function init() {
			  for(var m = 0; m < movers.length; m++) {
			    movers[m].style.top = (m * 20) + 'px';
			  }
			})();

			function updatePos(x,y) {
                          var s = 500;
                          var hs = s / 2;
		          for(var m = 0; m < movers.length; m++) {
		            movers[m].style.left = x + (s*Math.random() - hs)+ 'px';
		            movers[m].style.top = y + (s*Math.random() - hs) + 'px';
			  }
                          // Slow things down a bit. This is synthetic to compensate for demoing on
                          // a fast computer. :)
                          var now = Date.now();
                          while(Date.now() < now + 6);
			};
                        updatePos(500,500);

                        var lastMousePos;
                        var rafPending = false;

                        function onMouseMove(e) {
                          // Calling updatePos directly will work fine on a mac,
                          // or if you have a cheap mouse. But if you have a
                          // high-precision mouse (or touch device), this will
                          // end up burning CPU!
                          if (true) {
                            updatePos(e.x, e.y);
                            return;
                          }

                          // The better thing to do is use requestAnimationFrame
                          // to do the work for you.
                          lastMousePos = {x: e.x, y: e.y};
                          if (rafPending)
                            return;

                          rafPending = true;
                          requestAnimationFrame(lastMousePos, function() {
                            rafPending = false;
                            updatePos(lastMousePos.x, lastMousePos.y);
                          });

                        }
                        window.addEventListener('mousemove', onMouseMove);
		</script>
	</body>
</html>

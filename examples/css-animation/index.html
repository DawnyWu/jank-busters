<!DOCTYPE html>
<html>
  <head>
    <title>smooth loader</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>
        function churn() {
            for(var i=0; i<15; i++) {
              // burn some CPU time
              console.log('flail!');
              var start = new Date().getTime();
              while(new Date().getTime() - start < 200) {
                ;
              }
            }
          }
        function start() {
          var el = document.querySelector('img');
          el.style.webkitAnimationName = 'swipy';
        }
        $(document).ready(function() {
          
        });
    </script>
    <style>
        img {
            -webkit-animation-duration: 5s;
        }
        @-webkit-keyframes swipy {
            from {
                -webkit-transform: translateX(-250px);
            }
            to {
                -webkit-transform: translateX(0px);
            }
        }
    </style>
    </head>
  <body style="-webkit-transform:translateZ(0)">
    <img id="foo" src="chrome-logo.png" width="250" onload="start()">
    <p>Loading...</p>
    <input type="button" onclick="churn()" value="churn">
</body>
</html>
